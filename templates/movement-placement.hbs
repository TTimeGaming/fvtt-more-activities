<div class="manual-placement-container">
    <div class="placement-header">
        <p>{{localize "DND5E.ACTIVITY.FIELDS.movement.clickToPlace.label"}}</p>
        <div class="placement-progress">
            <span>Placed: {{placedCount}} / {{totalCount}}</span>
        </div>
    </div>

    {{#if currentToken}}
    <div class="current-token-section">
        <div class="current-token-display">
            <img src="{{currentToken.imgSrc}}" alt="{{currentToken.name}}" class="token-image">
            <div class="token-info">
                <span class="token-name">{{currentToken.name}}</span>
                <span class="token-counter">Token {{add currentIndex 1}} of {{tokensRemaining}}</span>
            </div>
        </div>
        
        <div class="token-navigation">
            <button type="button" class="prev-token-btn" {{#unless canNavigate}}disabled{{/unless}}>
                <i class="fas fa-chevron-left"></i> Previous
            </button>
            <button type="button" class="place-token-btn {{#if isPlacing}}placing{{/if}}">
                <i class="fas fa-crosshairs"></i> {{#if isPlacing}}Placing{{else}}Place{{/if}}
            </button>
            <button type="button" class="next-token-btn" {{#unless canNavigate}}disabled{{/unless}}>
                Next <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>
    {{else}}
    <div class="no-tokens">{{localize "DND5E.ACTIVITY.FIELDS.movement.allTokensPlaced.label"}}</div>
    {{/if}}

    <div class="placement-buttons">
        {{#if canFinish}}
        <button type="button" class="finish-placement-btn">
            <i class="fas fa-check"></i> Finish Placement
        </button>
        {{/if}}
        <button type="button" class="cancel-placement-btn">
            <i class="fas fa-times"></i> Cancel
        </button>
    </div>
</div>
