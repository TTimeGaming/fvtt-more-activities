<div class="wall-placement-container">
    <div class="placement-header">
        <div class="wall-stats">
            <div class="stat-item">
                <span><strong>Length:</strong></span>
                <span>{{currentLength}} / {{maxLength}} ft</span>
            </div>
            <div class="stat-item">
                <span><strong>Points:</strong></span>
                <span>{{placedPoints}}</span>
            </div>
            <div class="stat-item">
                <span><strong>Facing:</strong></span>
                <span>{{facing}}</span>
            </div>
        </div>
        <h2 class="subtitle">{{wallTypeLabel}} Wall</h2>
    </div>

    {{#if needsReferencePoint}}
    <div class="reference-section">
        {{#unless hasReferencePoint}}
        <p>Place reference point ({{referenceRange}} ft range)</p>
        <button type="button" class="start-reference-btn {{#if isPlacingReference}}placing{{/if}}">
            <i class="fas fa-crosshairs"></i> 
            {{#if isPlacingReference}}Stop Placing Reference{{else}}Place Reference Point{{/if}}
        </button>
        {{else}}
        <p><i class="fas fa-check-circle"></i> Reference point placed</p>
        {{/unless}}
    </div>
    {{/if}}

    {{#if canChooseFacing}}
    <select class="facing-select">
        {{#each facingOptions as |option|}}
        <option value="{{option.value}}" {{#if option.selected}}selected{{/if}}>{{option.label}}</option>
        {{/each}}
    </select>
    {{/if}}

    <div class="placement-controls">
        <button type="button" class="start-placement-btn {{#if isPlacing}}placing{{/if}}" {{#if (and needsReferencePoint (not hasReferencePoint))}}disabled{{/if}}>
            <i class="fas fa-crosshairs"></i> 
            {{#if isPlacing}}Stop Placing{{else}}Start Placement{{/if}}
        </button>
        
        <button type="button" class="clear-points-btn">
            <i class="fas fa-eraser"></i> Clear Points
        </button>
    </div>

    <div class="placement-instructions">
        {{#if (eq wallType "circular")}}
            <p>{{{localize "DND5E.ACTIVITY.FIELDS.wall.circularInstructions.label"}}}</p>
        {{else}}
            <p>{{{localize "DND5E.ACTIVITY.FIELDS.wall.continuousInstructions.label"}}}</p>
        {{/if}}
    </div>

    <div class="placement-controls">
        {{#if canFinish}}
        <button type="button" class="finish-wall-btn">
            <i class="fas fa-check"></i> Create Wall
        </button>
        {{/if}}
        
        <button type="button" class="cancel-wall-btn">
            <i class="fas fa-times"></i> Cancel
        </button>
    </div>

    {{#if isPlacing}}
    <div class="placement-status">
        <div class="status-indicator pulsing">
            <i class="fas fa-mouse-pointer"></i>
            <span>Click on the canvas to place points...</span>
        </div>
    </div>
    {{/if}}

    {{#if isPlacingReference}}
    <div class="placement-status">
        <div class="status-indicator pulsing">
            <i class="fas fa-mouse-pointer"></i>
            <span>Click on the canvas to place reference point...</span>
        </div>
    </div>
    {{/if}}
</div>
